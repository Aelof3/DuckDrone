!function(e){function t(t){for(var o,r,l=t[0],c=t[1],a=t[2],h=0,y=[];h<l.length;h++)r=l[h],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&y.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(u&&u(t);y.length;)y.shift()();return s.push.apply(s,a||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,l=1;l<n.length;l++){var c=n[l];0!==i[c]&&(o=!1)}o&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},i={0:0},s=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var a=0;a<l.length;a++)t(l[a]);var u=c;s.push([126,1]),n()}({126:function(e,t,n){n(127),e.exports=n(314)},313:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);n(313);var o=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.keynum=1,this.debug=!1,this.keyselect={keys1:[["s","a"],["w","q"]],keys2:[["a","q"],["s","w"]],keys3:[["d","s","a"],["e","w","q"]],keys4:[["c","x","z"],["d","s","a"],["e","w","q"]],keys5:[["v","c","x","z"],["f","d","s","a"],["r","e","w","q"]],keys6:[["m","n","b","v","c","x","z"],["j","h","g","f","d","s","a"],["u","y","t","r","e","w","q"]],keys7:[["m","n","b","v","c","x","z"],["j","h","g","f","d","s","a"],["u","y","t","r","e","w","q"],["7","6","5","4","3","2","1"]],keys8:[["/",".",",","m","n","b","v","c","x","z"],[";","l","k","j","h","g","f","d","s","a"],["p","o","i","u","y","t","r","e","w","q"],["0","9","8","7","6","5","4","3","2","1"]]},this.keys=this.keyselect["keys".concat(this.keynum)],this.sound=!0,this.music=!1,this.rocketFire=!0;var t=20/this.keys.length-20/3,n=35/this.keys[0].length-35/3;this.ship={bodyGeometry:{x:35,y:30,z:20},engineGeometry:{x:n,y:5,z:t},color:7621368,startPos:{x:-200,y:60,z:0},engines:{engineStrength:30,modes:["throttle","throttletoggle","individual","individualtoggle"],mode:"individual"},clampRange:150},this.ground={bodyGeometry:{x:500,y:.25,z:250},color:5319420},this.gravity={x:0,y:-19.82,z:0}},i=n(0),s=n(123),r=n(6);function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t.settings,this.key=t.key,this.on=t.on,this.color=t.color,this.position=t.position,this.geo=t.geometry,this.row=t.row,this.geometry=null,this.material=null,this.body=null,this.clock=new i.k,this.fire=null,this.fireGeometry=null,this.fireMaterial=null,this.fireset=!1,this.throttleOn=!1,this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e=this.geo.x<this.geo.z?this.geo.x/2:this.geo.z/2;this.geometry=new i.o(e,e,this.geo.y,32),this.material=new i.S({color:this.color}),this.body=new i.Q(this.geometry,this.material),this.body.castShadow=!1,this.body.receiveShadow=!1,this.body.position.set(this.position.x,this.position.y,this.position.z),this.fireSetup()}},{key:"fireSetup",value:function(){this.fireGeometry=new i.m(2,2,32),this.fireMaterial=new i.S({color:16753920,visible:!0,flatShading:!0,emissive:16753920,emissiveIntensity:5}),this.fire=new i.Q(this.fireGeometry,this.fireMaterial),this.fire.rotateZ(i.O.degToRad(180)),this.fire.position.set(0,-5,0),this.body.add(this.fire),this.fire.visible=!1}},{key:"engineChangeState",value:function(e){this.on=e,this.body.material.color=this.on?new i.l(65280):new i.l(this.color)}},{key:"fireAnim",value:function(){if(this.fire.visible=(this.throttleOn||"individual"===this.settings.ship.engines.mode)&&this.on,(this.throttleOn||"throttle"!==this.settings.ship.engines.mode)&&this.settings.rocketFire){var e=this.clock.getElapsedTime();if(e<i.O.randFloat(.45,1)){var t=e*i.O.randInt(1,4)*i.O.randInt(7,10);this.fire.scale.x=1,this.fire.position.set(0,-e*t-3,0),this.fire.scale.y=e*t,this.fire.scale.z=1}else this.clock.stop(),this.clock.start()}}},{key:"engineOn",value:function(){this.engineChangeState(!0)}},{key:"engineToggle",value:function(e){this.engineChangeState(e)}},{key:"engineOff",value:function(){this.engineChangeState(!1)}},{key:"keydownHandler",value:function(){this.engineToggle("individualtoggle"!==this.settings.ship.engines.mode||!this.on)}},{key:"loop",value:function(e){this.throttleOn=e.throttleOn,this.fireAnim()}},{key:"keyupHandler",value:function(){"individualtoggle"!==this.settings.ship.engines.mode&&"throttle"!==this.settings.ship.engines.mode&&this.engineToggle(!1)}}])&&l(t.prototype,n),o&&l(t,o),e}(),a=n(124);function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t.settings,this.world=t.world,this.scene=t.scene,this.physicsBody=null,this.geometry=null,this.material=null,this.throttleOn=!1,this.reverseToggle=!1,this.shipBody=null,this.resetPosition=null,this.resetQuaternion=null,this.spaceship=null,this.rocketSoundOn=!1,this.keys=this.settings.keys,this.duckViewedPage=parseInt(localStorage.duckViewedPage)||-1,this.resets=parseInt(localStorage.duckResets)||0,this.duckTimer=new i.k,this.duckTimeSpent=parseInt(localStorage.duckTimeSpent)||0,this.duckQuacks=parseInt(localStorage.duckQuacks)||0,this.isReset=!1,this.setupComplete=!1,this.endGame=!1,this.spaceToggle=!1,this.engineGlow=null,this.raycasterY=null,this.wasd={w:0,a:0,s:0,d:0},this.engines=[],this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e=this;this.duckViewedPage++,localStorage.duckViewedPage=this.duckViewedPage,this.material=new i.S({transparent:!0,opacity:0}),this.geometry=new i.f(this.settings.ship.bodyGeometry.x,this.settings.ship.bodyGeometry.y,this.settings.ship.bodyGeometry.z),this.body=new i.Q(this.geometry,this.material),this.rocketAudio=new Audio("./static/assets/sounds/rocket.mp3"),this.rocketAudio.loop=!0,this.scene.add(this.body),this.scene.updateMatrixWorld();var t=this.body.getWorldPosition(),n=new i.Bb(this.body.matrixWorld.elements[4],this.body.matrixWorld.elements[5],this.body.matrixWorld.elements[6]),o=new i.Bb;o.copy(n).negate(),this.raycasterY=new i.mb(t,n,0,25),this.raycasterYn=new i.mb(t,o,0,25),this.quackInterval=setInterval((function(){e.quackHandler()}),i.O.randInt(1e4,2e4)),this.setupEngines(),this.setupEventHandlers(),this.setupPhysics(),this.setupDuck(),this.setupComplete=!0}},{key:"quackHandler",value:function(){var e=i.O.randInt(1,4),t=new Audio("./static/assets/sounds/duck".concat(e,".mp3"));this.settings.sound&&t.play(),this.duckQuacks++,localStorage.duckQuacks=this.duckQuacks}},{key:"rocketSoundHandler",value:function(){this.spaceToggle&&this.rocketAudio.paused&&!this.rocketSoundOn?(this.rocketSoundOn=!0,this.settings.sound&&this.rocketAudio.play()):this.spaceToggle||this.rocketAudio.paused||!this.rocketSoundOn||(this.rocketSoundOn=!1,this.settings.sound&&this.rocketAudio.pause())}},{key:"setupDuck",value:function(){var e=this;this.loader=new a.a,this.loader.load("./static/assets/models/Duck.gltf",(function(t){e.duckObj=t,t.scene.scale.set(20,20,20),t.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),t.scene.position.set(0,-e.settings.ship.bodyGeometry.y/2,0),e.body.add(t.scene)}))}},{key:"findIntersection",value:function(){var e=this.body.getWorldPosition(),t=new i.Bb(this.body.matrixWorld.elements[4],this.body.matrixWorld.elements[5],this.body.matrixWorld.elements[6]),n=new i.Bb;n.copy(t).negate(),this.raycasterYn.set(e,n);for(var o=0;o<window.DuckDroneEndOfLevel.length;o++)this.raycasterYn.intersectObject(window.DuckDroneEndOfLevel[o].body).length>0&&(this.setCheckpoint(window.DuckDroneEndOfLevel[o]),window.dispatchEvent(new CustomEvent("loadLevel",{detail:{level:"next"}})))}},{key:"setCheckpoint",value:function(e){var t=e.body.getWorldPosition(),n=t.x,o=t.y+e.dimensions.y/2+20,s=t.z;this.resetPosition.copy(new i.Bb(n,o,s))}},{key:"setCheckpointQuat",value:function(){var e=window.DuckDroneEndOfLevel[0].body.getWorldPosition(),t=e.x,n=e.y,o=e.z,s=new i.ab;s.position.copy(this.resetPosition),s.lookAt(t,n,o),s.rotateY(i.O.degToRad(-90)),this.resetQuaternion.copy(s.quaternion),this.reset()}},{key:"setupPhysics",value:function(){this.physicsBody=new r.a({mass:1,position:new r.d(this.settings.ship.startPos.x,this.settings.ship.startPos.y,this.settings.ship.startPos.z),shape:new r.b(new r.d(this.settings.ship.bodyGeometry.x/2,this.settings.ship.bodyGeometry.y/2,this.settings.ship.bodyGeometry.z/2)),linearDamping:.1,angularDamping:.3,type:r.a.DYNAMIC,restitution:0}),this.world.addBody(this.physicsBody),this.resetPosition=this.physicsBody.initPosition,this.resetQuaternion=this.physicsBody.initQuaternion}},{key:"setupEventHandlers",value:function(){var e=this;window.addEventListener("keydown",(function(t){e.keyDownHandler(t.key.toLowerCase(),t)}),!1),window.addEventListener("keyup",(function(t){e.keyUpHandler(t.key.toLowerCase(),t)}),!1),window.addEventListener("quacksalot",(function(t){e.endGame||(e.endGame=!0,alert("the end... for now"))}),!1),window.addEventListener("levelLoaded",(function(t){e.setCheckpointQuat()}),!1)}},{key:"keyDownHandler",value:function(e,t){for(var n=0;n<this.engines.length;n++)this.engines[n].key===e&&(t.preventDefault(),"throttle"===this.settings.ship.engines.mode?this.engines[n].engineToggle(!this.engines[n].on):"individual"===this.settings.ship.engines.mode?this.engines[n].engineToggle(!0):"individualtoggle"===this.settings.ship.engines.mode&&this.engines[n].engineToggle(!this.engines[n].on));if("arrowright"!==e&&"arrowleft"!==e&&"arrowdown"!==e&&"arrowup"!==e&&"]"!==e||this.debugHandler(e)," "===e){this.spaceToggle="throttle"!==this.settings.ship.engines.mode||!this.spaceToggle;for(var o=0;o<this.engines.length;o++)"throttle"===this.settings.ship.engines.mode&&this.engines[o].engineToggle(this.spaceToggle),"throttle"!==this.settings.ship.engines.mode&&this.engines[o].engineToggle(!0);this.rocketSoundHandler()}"backspace"===e&&(t.preventDefault(),this.isReset=!0),"shift"===e&&"throttle"===this.settings.ship.engines.mode&&(this.throttleOn=!this.throttleOn,this.toggleThrottle(this.throttleOn)),"control"===e&&(this.reverseToggle=!this.reverseToggle)}},{key:"debugHandler",value:function(e){if(this.settings.debug){if("arrowup"===e&&(this.physicsBody.velocity.x=75),"arrowdown"===e&&(this.physicsBody.velocity.x=-75),"arrowleft"===e&&(this.physicsBody.velocity.z=-75),"arrowright"===e&&(this.physicsBody.velocity.z=75),"]"===e){var t=(new i.Bb).copy(window.DuckDroneEndOfLevel[0].body.getWorldPosition());t.y+=window.DuckDroneEndOfLevel[0].dimensions.y/2+25,this.physicsBody.position.copy(t)}this.physicsBody.quaternion.copy(this.physicsBody.initQuaternion),this.physicsBody.angularVelocity.copy(this.physicsBody.initAngularVelocity)}}},{key:"keyUpHandler",value:function(e,t){for(var n=0;n<this.engines.length;n++)this.engines[n].key===e&&"throttle"!==this.settings.ship.engines.mode&&this.engines[n].engineToggle(!1)," "===e&&("throttle"!==this.settings.ship.engines.mode&&"individualtoggle"!==this.settings.ship.engines.mode||"throttle"!==this.settings.ship.engines.mode)&&this.engines[n].engineToggle(!1);" "===e&&"throttle"!==this.settings.ship.engines.mode&&(this.spaceToggle=!1,this.rocketSoundHandler())}},{key:"setupEngines",value:function(){for(var e=this.settings.ship.engineGeometry,t=0;t<this.keys.length;t++)for(var n=this.settings.ship.bodyGeometry.z/this.keys.length,o=t*n+n/2-this.settings.ship.bodyGeometry.z/2,i=this.settings.ship.bodyGeometry.x/this.keys[t].length,s=0;s<this.keys[t].length;s++){var r=s*i+i/2-this.settings.ship.bodyGeometry.x/2,l={key:this.keys[t][s],on:!1,color:this.settings.ship.color,position:{x:r,y:-this.settings.ship.bodyGeometry.y/2+4,z:o},geometry:{x:e.x,y:e.y,z:e.z},settings:this.settings,row:t},a=new c(l);this.engines.push(a),this.body.add(a.body)}}},{key:"toggleThrottle",value:function(e){this.throttleOn=e}},{key:"reset",value:function(){this.toggleThrottle(!1),this.resets++,localStorage.duckResets=this.resets,this.reverseToggle=!1,this.physicsBody.position.copy(this.resetPosition),this.physicsBody.quaternion.copy(this.resetQuaternion),this.physicsBody.velocity.copy(new r.d(0,0,0)),this.physicsBody.angularVelocity.copy(this.physicsBody.initAngularVelocity),this.physicsBody.torque.copy(new r.d(0,0,0)),this.physicsBody.force.copy(new r.d(0,0,0)),this.physicsBody.inertia.copy(new r.d(0,0,0)),this.body.quaternion.copy(this.physicsBody.quaternion),this.body.position.copy(this.physicsBody.position);for(var e=0;e<this.engines.length;e++)this.engines[e].engineOff()}},{key:"engineOn",value:function(e){if("throttle"!==this.settings.ship.engines.mode||this.throttleOn){var t=this.reverseToggle?-1:1,n=e.body.position;this.physicsBody.applyLocalForce(new r.d(0,this.settings.ship.engines.engineStrength*t,0),new r.d(n.x,n.y,n.z))}}},{key:"clampMovement",value:function(){var e=this.physicsBody.force,t=this.physicsBody.velocity;this.physicsBody.force.copy(new r.d(i.O.clamp(e.x,-this.settings.ship.clampRange,this.settings.ship.clampRange),i.O.clamp(e.y,-this.settings.ship.clampRange,this.settings.ship.clampRange),i.O.clamp(e.z,-this.settings.ship.clampRange,this.settings.ship.clampRange))),this.physicsBody.velocity.copy(new r.d(i.O.clamp(t.x,-this.settings.ship.clampRange,this.settings.ship.clampRange),i.O.clamp(t.y,-this.settings.ship.clampRange,this.settings.ship.clampRange),i.O.clamp(t.z,-this.settings.ship.clampRange,this.settings.ship.clampRange)))}},{key:"loop",value:function(){if(this.setupComplete){this.isReset&&(this.isReset=!1,this.reset(),this.body.updateMatrixWorld()),this.findIntersection(),localStorage.duckTimeSpent=parseInt(this.duckTimeSpent+this.duckTimer.getElapsedTime()),this.body.position.copy(this.physicsBody.position),this.body.quaternion.copy(this.physicsBody.quaternion);for(var e=0;e<this.engines.length;e++)this.engines[e].loop({throttleOn:this.throttleOn}),this.engines[e].on&&this.engineOn(this.engines[e]);this.clampMovement()}}}])&&u(t.prototype,n),o&&u(t,o),e}();function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=document.getElementById("gui"),this.keys=t.ship.keys,this.settings=t.settings,this.musicOn=null,this.levelManager=t.levelManager,this.ship=t.ship,this.shipBody={velocity:{x:0,y:0,z:0},force:{x:0,y:0,z:0}},this.keys.reverse();for(var n=0;n<this.keys.length;n++)this.keys[n].reverse();this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.buildHTML()}},{key:"keyboardKeys",value:function(){for(var e="",t=0;t<this.keys.length;t++){for(var n='<div class="keybinds--keyboard--row">',o=0;o<this.keys[t].length;o++)n+='<div class="keybinds--keyboard--key '.concat(this.checkEngines(this.keys[t][o])?"activeClass":"",'">').concat(this.keys[t][o],"</div>");e+=n+="</div>"}return e}},{key:"buildHTML",value:function(){this.el.innerHTML='<div id="gui--left">\n                                <div class="gui--category">\n                                    <p>Keybinds:</p>\n                                    <div class="keybinds--wrap">\n                                        <div class="keybinds--keyboard">\n                                            '.concat(this.keyboardKeys(),"\n                                        </div>\n                                        <br>\n                                        <p>Engines All Toggle: SPACEBAR</p>\n                                        ").concat(this.getThrottle(),'\n                                        <p class="').concat(this.keyCheck("control")?"activeClass":"",'">Reverse: CTRL</p>\n                                        <p>Mode: ').concat(this.settings.ship.engines.mode,"</p>\n                                        <p>Reset: BACKSPACE</p>\n                                        <p>Menu: ESC</p>\n                                    </div>\n                                </div>\n                            </div>\n                            ").concat(this.debugCheck(),'\n                            <div id="gui--right">\n                                <div class="gui--category">\n                                    <p>Level: ').concat(this.levelManager.currentLevel.replace("level",""),"/10</p>\n                                    <p>Resets: ").concat(this.getResets(),"</p>\n                                    <p>Time Spent: ").concat(this.getTimeSpent(),"</p>\n                                    <p>QUACKS: ").concat(this.ship.duckQuacks,"</p>\n                                    ").concat(this.getDebug(),"\n                                </div>\n                            </div>\n                            ")}},{key:"debugCheck",value:function(){return this.settings.debug?'<div class="debugMode">DEBUG MODE</div>':""}},{key:"getDebug",value:function(){return this.settings.debug?"<p>Velocity: x: ".concat(Math.floor(this.shipBody.velocity.x)," | y: ").concat(Math.floor(this.shipBody.velocity.y)," | z: ").concat(Math.floor(this.shipBody.velocity.z),"</p>\n                <p>Force: x: ").concat(Math.floor(this.shipBody.force.x)," | y: ").concat(Math.floor(this.shipBody.force.y)," | z: ").concat(Math.floor(this.shipBody.force.z),"</p>"):""}},{key:"getThrottle",value:function(){return"individual"===this.settings.ship.engines.mode?"":'<p class="'.concat(this.keyCheck("shift")?"activeClass":"",'">Throttle: SHIFT</p>')}},{key:"getResets",value:function(){return this.ship.resets+this.ship.duckViewedPage}},{key:"getPower",value:function(){return"x:".concat(parseInt(this.ship.physicsBody.velocity.x),",y:").concat(parseInt(this.ship.physicsBody.velocity.y),",z:").concat(parseInt(this.ship.physicsBody.velocity.z))}},{key:"getTimeSpent",value:function(){var e=parseInt(this.ship.duckTimeSpent+this.ship.duckTimer.getElapsedTime());return new Date(1e3*e).toISOString().substr(11,8)}},{key:"checkEngines",value:function(e){for(var t=0;t<this.ship.engines.length;t++)if(e===this.ship.engines[t].key&&this.ship.engines[t].on)return!0;return!1}},{key:"keyCheck",value:function(e){return!("shift"!==e||!this.ship.throttleOn)||!("control"!==e||!this.ship.reverseToggle)}},{key:"loop",value:function(e){this.ship=e.ship,this.shipBody=e.shipBody,this.musicOn=e.musicOn,this.levelManager=e.levelManager,this.buildHTML()}}])&&y(t.prototype,n),o&&y(t,o),e}();function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clock=new i.k,this.clock.start(),this.fragShader="#ifdef GL_ES\n                            precision mediump float;\n                            #endif\n    \n                            #define PI 3.14159265359\n    \n                            uniform vec2 u_resolution;\n                            uniform float u_time;\n                            uniform float frequency;\n\n                            varying vec4 vwPos;\n                            varying vec4 vlPos;\n    \n                            // from iq\n                            float expStep( float x, float k, float n ){\n                                return exp( -k*pow( x, n ) );\n                            }\n\n                            mat2 rot( float rads ){\n                                return mat2( cos( rads ), sin( rads ), -sin( rads ), cos( rads ) );\n                            }\n\n                            void main(){\n                                vec2 p = ( -2. * vlPos.xz - vlPos.xz ) / vwPos.x;\n                                p = rot( u_time * .35 ) * p;\n                                p = vec2( p.x, -p.y ) + .15;\n                                \n                                float r = length( p );\n                                float a = atan( p.y, p.x );\n                                a += 2. * sin( a );\n                                float coord = fract( a / PI + expStep( r, 1., .5 ) * frequency + 1.6 * u_time );\n                                vec3 col = mix( vec3( .1, 0.9, .25 ), vec3( .4, 0., .6 ), step( .6, coord ) );\n                                \n                                col *= pow( r, .65 ) * 1.75;\n\n                                gl_FragColor = vec4( col, 1.00 );\n                            }",this.vertShader="varying vec4 vwPos;\n                           varying vec4 vlPos;\n\n                            void main( ) {\n                                vlPos = vec4( position, 1. ); // local position\n                                vwPos = modelMatrix * vlPos; // world position\n\n                                gl_Position = projectionMatrix *\n                                            modelViewMatrix *\n                                            vlPos;\n                            }"}var t,n,o;return t=e,(n=[{key:"generateMaterial",value:function(){var e={u_resolution:{type:"vec2",value:new i.Ab(window.innerWidth,window.innerHeight)},u_time:{type:"float",value:this.clock.getElapsedTime()},frequency:{type:"float",value:18}};return new i.pb({uniforms:e,fragmentShader:this.fragShader,vertexShader:this.vertShader})}}])&&p(t.prototype,n),o&&p(t,o),e}();function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.world=t.world,this.scene=t.scene,this.ground=t.ground,this.pos=t.pos,this.dimensions=t.dimensions,this.settings=t.settings,this.color=t.color||65280,this.isEndOfLevel=t.isEndOfLevel,this.geometry=null,this.material=null,this.basemat=null,this.spiralMat=null,this.body=null,this.physicsBody=null,this.type=t.type||r.a.STATIC,this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.createBox()}},{key:"createBox",value:function(){this.geometry=new i.e(this.dimensions.x,this.dimensions.y,this.dimensions.z),this.basemat=new i.S({color:this.color}),this.isEndOfLevel?(this.spiralMat=new f,this.material=this.spiralMat.generateMaterial()):this.material=this.basemat,this.body=new i.Q(this.geometry,this.material),this.body.position.copy(new i.Bb(this.pos.x,this.pos.y,this.pos.z)),this.body.receiveShadow=!0;var e=new i.r(this.geometry),t=new i.D({color:0,linewidth:8}),n=new i.F(e,t);this.body.add(n),this.ground.add(this.body),this.ground.updateMatrixWorld();var o=new i.Bb;o.copy(this.body.getWorldPosition()),this.physicsBody=new r.a({mass:0,position:new r.d(o.x,o.y,o.z),shape:new r.b(new r.d(this.dimensions.x/2,this.dimensions.y/2,this.dimensions.z/2)),type:this.type}),this.world.addBody(this.physicsBody)}},{key:"loop",value:function(){this.isEndOfLevel?this.body.material=this.spiralMat.generateMaterial():this.body.material=this.basemat}}])&&g(t.prototype,n),o&&g(t,o),e}();function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t.scene,this.world=t.world,this.level=t.level||"level1",this.pos=t.pos,this.quat=t.quat||{x:0,y:0,z:0,w:1},this.settings=t.settings,this.groundsettings=t.groundsettings,this.levelObjects=[],this.platforms=[],this.ground=null,this.spiralMat=null,this.color=null,this.stopLoop=!1,this.loader=null}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.setupGround();for(var e=0;e<this.platforms.length;e++)this.setupPlatform(this.platforms[e]);this.onCreate()}},{key:"setupGround",value:function(){var e=new i.f(this.groundsettings.bodyGeometry.x,this.groundsettings.bodyGeometry.y,this.groundsettings.bodyGeometry.z),t=new i.S({color:this.color});this.ground=new i.Q(e,t),this.ground.receiveShadow=!0,this.ground.position.copy(new i.Bb(this.pos.x,this.pos.y,this.pos.z)),this.groundPhysicsBody=new r.a({mass:0,position:new r.d(this.pos.x,this.pos.y,this.pos.z),quaternion:new r.c(this.quat.x,this.quat.y,this.quat.z,this.quat.w),shape:new r.b(new r.d(this.groundsettings.bodyGeometry.x/2,this.groundsettings.bodyGeometry.y/2,this.groundsettings.bodyGeometry.z/2))})}},{key:"load",value:function(){this.scene.add(this.ground),this.world.addBody(this.groundPhysicsBody),window.DuckDroneEndOfLevel=this.levelObjects.filter((function(e){return e.isEndOfLevel}))}},{key:"getSD",value:function(e,t){return e<t?e:t}},{key:"setupPlatform",value:function(e){var t={pos:e.pos,dimensions:e.dimensions,color:e.color,isEndOfLevel:e.isEndOfLevel,world:this.world,scene:this.scene,settings:this.settings,ground:this.ground},n=new v(t);this.levelObjects.push(n)}},{key:"onCreate",value:function(){}},{key:"onComplete",value:function(){this.stopLoop=!0,this.onEnd()}},{key:"onEnd",value:function(){}},{key:"alsoLoop",value:function(){}},{key:"loop",value:function(){this.stopLoop||this.alsoLoop();for(var e=0;e<this.levelObjects.length;e++)this.levelObjects[e].loop()}}])&&m(t.prototype,n),o&&m(t,o),e}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=z(e);if(t){var i=z(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(n,e);var t=O(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).color="hsl(0,100%,50%)",o.pos={x:0,y:0,z:0},o.groundsettings=o.settings.ground,o.platforms=[{pos:{x:-200,y:21,z:0},dimensions:{x:75,y:40,z:o.groundsettings.bodyGeometry.z/3},color:"hsl(30,100%,50%)",isEndOfLevel:!1},{pos:{x:200,y:21,z:0},dimensions:{x:75,y:40,z:o.groundsettings.bodyGeometry.z/3},color:"hsl(30,100%,50%)",isEndOfLevel:!0}],o.init(),o}return n}(b);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(n,e);var t=P(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).color="hsl(30,100%,50%)",o.pos={x:500,y:0,z:0},o.groundsettings={bodyGeometry:{x:500,y:.25,z:100},color:16525905},o.platforms=[{pos:{x:-50,y:101,z:0},dimensions:{x:75,y:200,z:o.groundsettings.bodyGeometry.z},color:"hsl(60,100%,50%)",isEndOfLevel:!1},{pos:{x:200,y:21,z:0},dimensions:{x:o.groundsettings.bodyGeometry.z/3,y:40,z:o.groundsettings.bodyGeometry.z/3},color:"hsl(60,100%,50%)",isEndOfLevel:!0}],o.init(),o}return n}(b);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return G(this,n)}}function G(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(n,e);var t=_(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).color="hsl(60,100%,50%)",o.pos={x:1e3,y:0,z:0},o.groundsettings={bodyGeometry:{x:500,y:.25,z:250},color:16525905},o.platforms=[{pos:{x:-140,y:150,z:0},dimensions:{x:25,y:180,z:o.groundsettings.bodyGeometry.z},color:"hsl(90,100%,50%)",isEndOfLevel:!1},{pos:{x:75,y:250,z:0},dimensions:{x:400,y:20,z:o.groundsettings.bodyGeometry.z},color:"hsl(90,100%,50%)",isEndOfLevel:!1},{pos:{x:300,y:150,z:0},dimensions:{x:75,y:300,z:o.groundsettings.bodyGeometry.z},color:"hsl(90,100%,50%)",isEndOfLevel:!1},{pos:{x:200,y:21,z:0},dimensions:{x:o.groundsettings.bodyGeometry.z/3,y:40,z:o.groundsettings.bodyGeometry.z/3},color:"hsl(90,100%,50%)",isEndOfLevel:!0}],o.init(),o}return n}(b);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(n,e);var t=A(n);function n(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).color="hsl(90,100%,50%)",o.pos={x:1450,y:0,z:150},o.groundsettings={bodyGeometry:{x:500,y:.25,z:250},color:16525905},o.platforms=[{pos:{x:0,y:150,z:o.groundsettings.bodyGeometry.z/2},dimensions:{x:500,y:300,z:5},color:"hsl(120,100%,50%)",isEndOfLevel:!1},{pos:{x:-150,y:150,z:5*o.groundsettings.bodyGeometry.z/6-o.groundsettings.bodyGeometry.z/2},dimensions:{x:25,y:300,z:o.groundsettings.bodyGeometry.z/3},color:"hsl(120,100%,50%)",isEndOfLevel:!1},{pos:{x:0,y:150,z:3*o.groundsettings.bodyGeometry.z/6-o.groundsettings.bodyGeometry.z/2},dimensions:{x:25,y:300,z:o.groundsettings.bodyGeometry.z/3},color:"hsl(120,100%,50%)",isEndOfLevel:!1},{pos:{x:150,y:150,z:o.groundsettings.bodyGeometry.z/6-o.groundsettings.bodyGeometry.z/2},dimensions:{x:25,y:300,z:o.groundsettings.bodyGeometry.z/3},color:"hsl(120,100%,50%)",isEndOfLevel:!1},{pos:{x:o.groundsettings.bodyGeometry.x/2,y:150,z:0},dimensions:{x:5,y:300,z:o.groundsettings.bodyGeometry.z},color:"hsl(120,100%,50%)",isEndOfLevel:!1},{pos:{x:125,y:300,z:0},dimensions:{x:250,y:5,z:o.groundsettings.bodyGeometry.z},color:"hsl(120,100%,50%)",isEndOfLevel:!1},{pos:{x:200,y:21,z:0},dimensions:{x:o.groundsettings.bodyGeometry.z/3,y:40,z:o.groundsettings.bodyGeometry.z/3},color:"hsl(120,100%,50%)",isEndOfLevel:!0}],o.init(),o}return n}(b);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=J(e);if(t){var i=J(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return U(this,n)}}function U(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(s,e);var t,n,o,i=K(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).color="hsl(120,100%,50%)",t.pos={x:1650,y:0,z:-250},t.groundsettings={bodyGeometry:{x:250,y:.25,z:500},color:16525905};var n=t.getSD(t.groundsettings.bodyGeometry.x,t.groundsettings.bodyGeometry.z);return t.platforms=[{pos:{x:0,y:150,z:0},dimensions:{x:300,y:300,z:25},color:"hsl(150,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:21,z:-200},dimensions:{x:n/3,y:40,z:n/3},color:"hsl(150,100%,50%)",isEndOfLevel:!0}],t.init(),t}return t=s,(n=[{key:"alsoLoop",value:function(){this.levelObjects[0].body.rotateY(.01),this.levelObjects[0].physicsBody.quaternion.copy(this.levelObjects[0].body.quaternion)}}])&&F(t.prototype,n),o&&F(t,o),s}(b);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ne(e);if(t){var i=ne(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return te(this,n)}}function te(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(r,e);var t,n,o,s=ee(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=s.call(this,e)).color="hsl(150,100%,50%)",t.pos={x:1250,y:0,z:-450},t.groundsettings={bodyGeometry:{x:250,y:.25,z:250},color:16525905};var n=t.getSD(t.groundsettings.bodyGeometry.x,t.groundsettings.bodyGeometry.z);return t.platforms=[{pos:{x:-100,y:150,z:0},dimensions:{x:25,y:300,z:25},color:"hsl(180,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:100,y:150,z:0},dimensions:{x:25,y:300,z:25},color:"hsl(180,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:150,z:-100},dimensions:{x:25,y:300,z:25},color:"hsl(180,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:150,z:100},dimensions:{x:25,y:300,z:25},color:"hsl(180,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:21,z:0},dimensions:{x:n/3,y:40,z:n/3},color:"hsl(180,100%,50%)",isEndOfLevel:!0}],t.init(),t}return t=r,(n=[{key:"onCreate",value:function(){this.rotater=new i.v,this.ground.add(this.rotater);for(var e=0;e<this.levelObjects.length;e++)this.levelObjects[e].isEndOfLevel||this.rotater.add(this.levelObjects[e].body)}},{key:"alsoLoop",value:function(){this.rotater.rotateY(.01);for(var e=0;e<this.levelObjects.length;e++)this.levelObjects[e].physicsBody.position.copy(this.levelObjects[e].body.getWorldPosition()),this.levelObjects[e].physicsBody.quaternion.copy(this.levelObjects[e].body.quaternion)}}])&&X(t.prototype,n),o&&X(t,o),r}(b);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ae(e);if(t){var i=ae(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ce(this,n)}}function ce(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(r,e);var t,n,o,s=le(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=s.call(this,e)).color="hsl(180,100%,50%)",t.pos={x:700,y:0,z:-450},t.groundsettings={bodyGeometry:{x:250,y:.25,z:250},color:16525905};var n=t.getSD(t.groundsettings.bodyGeometry.x,t.groundsettings.bodyGeometry.z);return t.platforms=[{pos:{x:0,y:150,z:0},dimensions:{x:25,y:25,z:350},color:"hsl(210,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:-150,z:0},dimensions:{x:25,y:25,z:350},color:"hsl(210,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:150,y:0,z:0},dimensions:{x:25,y:25,z:350},color:"hsl(210,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:-150,y:0,z:0},dimensions:{x:25,y:25,z:350},color:"hsl(210,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:21,z:0},dimensions:{x:n/3,y:40,z:n/3},color:"hsl(210,100%,50%)",isEndOfLevel:!0}],t.init(),t}return t=r,(n=[{key:"onCreate",value:function(){this.rotater=new i.v,this.ground.add(this.rotater);for(var e=0;e<this.levelObjects.length;e++)this.levelObjects[e].isEndOfLevel||this.rotater.add(this.levelObjects[e].body)}},{key:"alsoLoop",value:function(){this.rotater.rotateZ(.01);for(var e=0;e<this.levelObjects.length;e++)this.levelObjects[e].physicsBody.position.copy(this.levelObjects[e].body.getWorldPosition()),this.levelObjects[e].physicsBody.quaternion.copy(this.levelObjects[e].body.quaternion)}}])&&se(t.prototype,n),o&&se(t,o),r}(b);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ge(e);if(t){var i=ge(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return fe(this,n)}}function fe(e,t){if(t&&("object"===he(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(r,e);var t,n,o,s=pe(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=s.call(this,e)).color="hsl(210,100%,50%)",t.pos={x:150,y:0,z:-450},t.groundsettings={bodyGeometry:{x:250,y:.25,z:250},color:16525905};var n=t.getSD(t.groundsettings.bodyGeometry.x,t.groundsettings.bodyGeometry.z);return t.platforms=[{pos:{x:0,y:150,z:0},dimensions:{x:25,y:25,z:350},color:"hsl(240,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:-150,z:0},dimensions:{x:25,y:25,z:350},color:"hsl(240,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:-100,y:150,z:0},dimensions:{x:25,y:300,z:25},color:"hsl(240,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:100,y:150,z:0},dimensions:{x:25,y:300,z:25},color:"hsl(240,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:21,z:0},dimensions:{x:n/3,y:40,z:n/3},color:"hsl(240,100%,50%)",isEndOfLevel:!0}],t.init(),t}return t=r,(n=[{key:"onCreate",value:function(){this.rotaterH=new i.v,this.rotaterV=new i.v,this.ground.add(this.rotaterH),this.ground.add(this.rotaterV),this.rotaterH.add(this.levelObjects[0].body),this.rotaterH.add(this.levelObjects[1].body),this.rotaterV.add(this.levelObjects[2].body),this.rotaterV.add(this.levelObjects[3].body)}},{key:"alsoLoop",value:function(){this.rotaterH.rotateZ(.01),this.rotaterV.rotateY(.01);for(var e=0;e<this.levelObjects.length;e++)this.levelObjects[e].physicsBody.position.copy(this.levelObjects[e].body.getWorldPosition()),this.levelObjects[e].physicsBody.quaternion.copy(this.levelObjects[e].body.quaternion)}}])&&ye(t.prototype,n),o&&ye(t,o),r}(b);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=xe(e);if(t){var i=xe(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(r,e);var t,n,o,s=ke(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=s.call(this,e)).color="hsl(240,100%,50%)",t.pos={x:0,y:0,z:-900},t.groundsettings={bodyGeometry:{x:250,y:.25,z:250},color:16525905};var n=t.getSD(t.groundsettings.bodyGeometry.x,t.groundsettings.bodyGeometry.z);return t.platforms=[{pos:{x:0,y:150,z:0},dimensions:{x:25,y:25,z:350},color:"hsl(270,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:-150,z:0},dimensions:{x:25,y:25,z:350},color:"hsl(270,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:150,y:0,z:0},dimensions:{x:25,y:25,z:350},color:"hsl(270,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:-150,y:0,z:0},dimensions:{x:25,y:25,z:350},color:"hsl(270,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:-125,y:150,z:0},dimensions:{x:25,y:300,z:25},color:"hsl(270,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:125,y:150,z:0},dimensions:{x:25,y:300,z:25},color:"hsl(270,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:150,z:-125},dimensions:{x:25,y:300,z:25},color:"hsl(270,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:150,z:125},dimensions:{x:25,y:300,z:25},color:"hsl(270,100%,50%)",type:4,isEndOfLevel:!1},{pos:{x:0,y:21,z:0},dimensions:{x:n/3,y:40,z:n/3},color:"hsl(270,100%,50%)",isEndOfLevel:!0}],t.init(),t}return t=r,(n=[{key:"onCreate",value:function(){this.rotaterH=new i.v,this.rotaterV=new i.v,this.ground.add(this.rotaterH),this.ground.add(this.rotaterV),this.rotaterH.add(this.levelObjects[0].body),this.rotaterH.add(this.levelObjects[1].body),this.rotaterH.add(this.levelObjects[2].body),this.rotaterH.add(this.levelObjects[3].body),this.rotaterV.add(this.levelObjects[4].body),this.rotaterV.add(this.levelObjects[5].body),this.rotaterV.add(this.levelObjects[6].body),this.rotaterV.add(this.levelObjects[7].body)}},{key:"alsoLoop",value:function(){this.rotaterH.rotateZ(.01),this.rotaterV.rotateY(.01);for(var e=0;e<this.levelObjects.length;e++)this.levelObjects[e].physicsBody.position.copy(this.levelObjects[e].body.getWorldPosition()),this.levelObjects[e].physicsBody.quaternion.copy(this.levelObjects[e].body.quaternion)}}])&&be(t.prototype,n),o&&be(t,o),r}(b);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Le(e);if(t){var i=Le(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){if(t&&("object"===Se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(n,e);var t=je(n);function n(e){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this,e)).color="hsl(270,100%,50%)",o.pos={x:0,y:0,z:-3500},o.groundsettings={bodyGeometry:{x:50,y:.25,z:50},color:16525905};o.getSD(o.groundsettings.bodyGeometry.x,o.groundsettings.bodyGeometry.z);return o.platforms=[{pos:{x:0,y:21,z:0},dimensions:{x:25,y:40,z:25},color:"hsl(300,100%,50%)",isEndOfLevel:!0}],o.init(),o}return n}(b);function Be(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Me=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t.settings,this.world=t.world,this.scene=t.scene,this.loadedLevels=[],this.currentLevel="level1",this.levels={level1:{level:null,levelLoader:function(e){return new S(e)},next:function(){n.send({level:"level2"})}},level2:{level:null,levelLoader:function(e){return new B(e)},next:function(){n.send({level:"level3"})}},level3:{level:null,levelLoader:function(e){return new C(e)},next:function(){n.send({level:"level4"})}},level4:{level:null,levelLoader:function(e){return new V(e)},next:function(){n.send({level:"level5"})}},level5:{level:null,levelLoader:function(e){return new N(e)},next:function(){n.send({level:"level6"})}},level6:{level:null,levelLoader:function(e){return new oe(e)},next:function(){n.send({level:"level7"})}},level7:{level:null,levelLoader:function(e){return new ue(e)},next:function(){n.send({level:"level8"})}},level8:{level:null,levelLoader:function(e){return new ve(e)},next:function(){n.send({level:"level9"})}},level9:{level:null,levelLoader:function(e){return new ze(e)},next:function(){n.send({level:"level10"})}},level10:{level:null,levelLoader:function(e){return new Te(e)},next:function(){window.dispatchEvent(new CustomEvent("quacksalot",{detail:{quack:"quack"}}))}}},this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.setupEventHandlers(),this.send({level:"level1"})}},{key:"setupEventHandlers",value:function(){var e=this;window.addEventListener("loadLevel",(function(t){e.loadLevel(t.detail.level)}),!1)}},{key:"send",value:function(e){window.dispatchEvent(new CustomEvent("loadLevel",{detail:e}))}},{key:"levelLoaded",value:function(){window.dispatchEvent(new CustomEvent("levelLoaded"))}},{key:"loadLevel",value:function(e){"next"===e?(window.DuckDroneEndOfLevel.map((function(e){return e.isEndOfLevel=!1})),this.levels[this.currentLevel].next()):(this.levels[e].level=this.levels[e].levelLoader({world:this.world,scene:this.scene,settings:this.settings}),this.levels[e].level.load(),this.levels[this.currentLevel].level.onComplete(),this.currentLevel=e,this.levelLoaded())}},{key:"loop",value:function(){for(var e in this.levels)this.levels[e].level&&this.levels[e].level.loop()}}])&&Be(t.prototype,n),o&&Be(t,o),e}();function Re(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var _e=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ship=null,this.renderer=null,this.scene=null,this.light=null,this.camera=null,this.tempcamera=null,this.controls=null,this.world=null,this.gui=null,this.cameraPositionHelper=null,this.levelManager=null,this.settings=t,this.time=new i.k,this.fixedTimeStep=1/60,this.maxSubSteps=3,this.setupComplete=!1}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.renderer=new i.Db({antialias:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=i.cb,this.renderer.gammaOutput=!0,this.renderer.gammaFactor=2.2,this.renderer.outputEncoding=i.G,this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),document.querySelector(".renderer").appendChild(this.renderer.domElement),this.scene=new i.ob;var e=(new i.n).load(["./static/assets/images/px.png","./static/assets/images/nx.png","./static/assets/images/py.png","./static/assets/images/ny.png","./static/assets/images/pz.png","./static/assets/images/nz.png"]);this.scene.background=e,this.camera=new i.db(40,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.set(-125,125,-250),this.camera.zoom=1,this.camera.updateProjectionMatrix(),this.tempcamera=this.camera.clone(),this.controls=new s.a(this.tempcamera,this.renderer.domElement),this.controls.enableKeys=!1,this.scene.add(new i.a(16777215,.1)),this.light=new i.p(16777215,1),this.light.position.set(0,350,0),this.light.castShadow=!0,this.light.shadow.camera=new i.bb(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,1e-4,1e3),this.scene.add(this.light.shadow.camera),this.light.shadow.mapSize.width=512,this.light.shadow.mapSize.height=512,this.scene.add(this.light),this.music=new Audio("./static/assets/sounds/rough3.mp3"),this.music.loop=!0,this.music.muted=!this.settings.music,this.musicOn=!1,this.handleMusic(),this.setup()}},{key:"setupPhysics",value:function(){this.world=new r.e,this.world.gravity.set(this.settings.gravity.x,this.settings.gravity.y,this.settings.gravity.z)}},{key:"setupShip",value:function(){var e={settings:this.settings,world:this.world,scene:this.scene};this.ship=new h(e)}},{key:"setupLevels",value:function(){var e={settings:this.settings,world:this.world,scene:this.scene};this.levelManager=new Me(e)}},{key:"setup",value:function(){this.setupEventHandlers(),this.setupPhysics(),this.setupLevels(),this.setupShip(),this.setupCameraPositionHelper(),this.gui=new d({ship:this.ship,settings:this.settings,levelManager:this.levelManager,musicOn:this.musicOn}),this.setupComplete=!0}},{key:"setupEventHandlers",value:function(){var e=this;window.onkeypress=function(t){"+"===t.key&&e.handleMusic()}}},{key:"handleMusic",value:function(){this.musicOn=!this.musicOn,this.musicOn?this.music.play():this.music.pause()}},{key:"setupCameraPositionHelper",value:function(){var e=new i.e(.1,.1,.1),t=new i.S({transparent:!0,opacity:0});this.cameraPositionHelper=new i.Q(e,t),this.scene.add(this.cameraPositionHelper),this.cameraPositionHelper.add(this.camera)}},{key:"animate",value:function(){var e=this;requestAnimationFrame((function(){e.animate()})),this.music.muted=!this.settings.music,this.setupComplete&&!window.DuckDroneMenuToggle&&(this.gui.loop({ship:this.ship,shipBody:this.ship.physicsBody,levelManager:this.levelManager,musicOn:this.musicOn}),this.camera.copy(this.tempcamera),this.controls.update(),this.world.step(this.fixedTimeStep,this.time.getDelta(),this.maxSubSteps),this.ship.loop(),this.levelManager.loop(),this.cameraPositionHelper.position.copy(this.ship.body.position),this.renderer.render(this.scene,this.camera),this.settings.debug&&window.stats.update())}}])&&Re(t.prototype,n),o&&Re(t,o),e}();function Ge(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var De=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t,this.html="",this.activeApp=!1,window.DuckDroneMenuToggle=!1,this.el=document.getElementById("menu"),this.css=this.h2e("<style></style>"),document.body.appendChild(this.css)}var t,n,o;return t=e,(n=[{key:"init",value:function(){this.randomMenuBG(),this.updateSettings(),this.setupEventHandlers(),this.buildMenuItems(),this.loadMenu(0),this.prevMenu=0}},{key:"getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}},{key:"randomMenuBG",value:function(){var e=this.getRandomInt(1,22);this.css.innerHTML="#menu::before{background-image: url(static/assets/images/duckbg".concat(e,".jpg);}")}},{key:"setupEventHandlers",value:function(){var e=this;window.addEventListener("keydown",(function(t){"escape"===t.key.toLowerCase()&&e.activeApp&&(window.DuckDroneMenuToggle=!window.DuckDroneMenuToggle,e.toggleMenu(window.DuckDroneMenuToggle),e.loadMenu(1))}))}},{key:"buildMenuItems",value:function(){var e=this;this.menus=[{name:"main menu",options:[{name:"play game",action:function(){e.prevMenu=0,e.toggleMenu(!1),window.DuckDroneMenuToggle=!1,e.activeApp=!0,window.DuckDroneApp=new _e(e.settings),window.DuckDroneApp.init(),window.DuckDroneApp.animate()},type:"button",el:e.h2e('<div class="menuButton" id="playGame">play game</div>')},{name:"options",action:function(){e.loadMenu(2),e.prevMenu=0},type:"button",el:e.h2e('<div class="menuButton" id="options">options</div>')}]},{name:"game menu",options:[{name:"exit to menu",action:function(){location.reload()},type:"button",el:e.h2e('<div class="menuButton" id="exitToMenu">exit to menu</div>')},{name:"options",action:function(){e.loadMenu(2),e.prevMenu=1},type:"button",el:e.h2e('<div class="menuButton" id="options">options</div>')},{name:"back",action:function(){window.DuckDroneMenuToggle=!window.DuckDroneMenuToggle,e.toggleMenu(window.DuckDroneMenuToggle),e.loadMenu(1)},type:"button",el:e.h2e('<div class="menuButton" id="back">back</div>')}]},{name:"options",options:[{name:"sound",type:"checkbox",action:function(){e.settings.sound=this.checked,e.updateSettings()},el:e.h2e('<input name="settings-sound" id="settings-sound" type="checkbox" '.concat(e.settings.sound?'checked="checked"':""," />"))},{name:"music",type:"checkbox",action:function(){e.settings.music=this.checked,e.updateSettings()},el:e.h2e('<input name="settings-music" id="settings-music" type="checkbox" '.concat(e.settings.music?'checked="checked"':""," />"))},{name:"rocket fire animation",type:"checkbox",action:function(){e.settings.rocketFire=this.checked,e.updateSettings()},el:e.h2e('<input name="settings-rocketfire" id="settings-rocketfire" type="checkbox" '.concat(e.settings.rocketFire?'checked="checked"':""," />"))},{name:"engine mode",type:"select",action:function(){e.settings.ship.engines.mode=this.value,e.updateSettings()},el:e.h2e('<select name="settings-engineMode" id="settings-engineMode">\n                                            <option value="throttle" '.concat("throttle"===e.settings.ship.engines.mode?"selected='selected'":"",'" >throttle</option>\n                                            <option value="individual" ').concat("individual"===e.settings.ship.engines.mode?"selected='selected'":"",'" >individual</option>\n                                            <option value="individualtoggle" ').concat("individualtoggle"===e.settings.ship.engines.mode?"selected='selected'":"",'" >individual toggle</option>\n                                        </select>'))},{name:"engine max power",type:"number",action:function(){e.settings.ship.clampRange=this.value,console.log(e.settings)},el:e.h2e('<input name="settings-engineMaxPower" id="settings-engineMaxPower" type="number" value="'.concat(e.settings.ship.clampRange,'" />'))},{name:"engine strength",type:"number",action:function(){e.settings.ship.engines.engineStrength=this.value,e.updateSettings()},el:e.h2e('<input name="settings-engineStrength" id="settings-engineStrength" type="number" value="'.concat(e.settings.ship.engines.engineStrength,'" />'))},{name:"keybind setup (1-8)",type:"number",action:function(){var t=this.value<=8&&this.value>=1?this.value:1;e.settings.keynum=t,e.settings.keys=e.settings.keyselect["keys".concat(t)],e.updateSettings(),e.loadMenu(2),e.prevMenu=0},el:e.h2e('<input name="settings-keys" min=1 max=8 id="settings-keys" type="number" value="'.concat(e.settings.keynum,'" />'))},{name:"back",type:"button",action:function(){e.loadMenu(e.prevMenu),e.prevMenu=2},el:e.h2e('<div class="menuButton" id="back">back</div>')}]}]}},{key:"loadMenu",value:function(e){this.el.innerHTML="",this.randomMenuBG();for(var t=this.menus[e],n=0;n<t.options.length;n++){var o=this.h2e('<div class="menuItemWrapper"></div>'),i=this.h2e('<label for="'.concat(t.options[n].el.id,'">').concat(t.options[n].name,"</label>"));if(this.el.appendChild(o),"button"!==t.options[n].type?(o.appendChild(i),t.options[n].el.onchange=t.options[n].action):t.options[n].el.onclick=t.options[n].action,o.appendChild(t.options[n].el),"settings-keys"===t.options[n].el.id){var s=this.keyExample(this.settings.keynum),r=this.h2e('<pre class="preMenu">'.concat(s,"</pre>"));o.appendChild(r)}}}},{key:"updateSettings",value:function(){localStorage.DuckDroneSettings=JSON.stringify(this.settings)}},{key:"toggleMenu",value:function(e){this.el.className=e?"":"menuToggle"}},{key:"keyExample",value:function(e){return{1:"[ q ][ w ]\n[ a ][ s ]",2:"[ w ][ s ]\n[ q ][ a ]",3:"[ q ][ w ][ e ]\n[ a ][ s ][ d ]",4:"[ q ][ w ][ e ]\n[ a ][ s ][ d ]\n[ z ][ x ][ c ]",5:"[ q ][ w ][ e ][ r ]\n[ a ][ s ][ d ][ f ]\n[ z ][ x ][ c ][ v ]",6:"[ q ][ w ][ e ][ r ][ t ][ y ][ u ]\n[ a ][ s ][ d ][ f ][ g ][ h ][ j ]\n[ z ][ x ][ c ][ v ][ b ][ n ][ m ]",7:"[ 1 ][ 2 ][ 3 ][ 4 ][ 5 ][ 6 ][ 7 ]\n[ q ][ w ][ e ][ r ][ t ][ y ][ u ]\n[ a ][ s ][ d ][ f ][ g ][ h ][ j ]\n[ z ][ x ][ c ][ v ][ b ][ n ][ m ]",8:"[ 1 ][ 2 ][ 3 ][ 4 ][ 5 ][ 6 ][ 7 ][ 8 ][ 9 ][ 0 ]\n[ q ][ w ][ e ][ r ][ t ][ y ][ u ][ i ][ o ][ p ]\n[ a ][ s ][ d ][ f ][ g ][ h ][ j ][ k ][ l ][ ; ]\n[ z ][ x ][ c ][ v ][ b ][ n ][ m ][ , ][ . ][ / ]"}[e]}},{key:"h2e",value:function(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}}])&&Ge(t.prototype,n),o&&Ge(t,o),e}(),Ce=n(125),qe=new URLSearchParams(window.location.search);qe.has("clear")&&(window.localStorage.clear(),location.href=window.location.origin);var He=null;qe.has("paintbucket")?(He=new o).debug=!0:(He=localStorage.DuckDroneSettings?JSON.parse(localStorage.DuckDroneSettings):new o).debug=!1,He.debug&&(window.stats=new Ce.a,window.localStorage.clear()),new De(He).init(),He.debug&&(document.body.appendChild(window.stats.dom),window.stats.dom.setAttribute("style","position: fixed; bottom: 0px; left: 0px; cursor: pointer; opacity: 0.9; z-index: 10000;"))}});